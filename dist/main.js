!function(){"use strict";!function(){class t{constructor(t,e,s,i,h,n){this.canvas=t,this.x=s,this.y=i,this.height=n,this.width=h,this.icon=new Image,this.icon.src=e,this.ctx=this.canvas.getContext("2d"),this.radius=20,this.canCollide=!0,this.keys={},this.speed=5,this.username="",document.addEventListener("keydown",(t=>{this.keys[t.key]=!0})),document.addEventListener("keyup",(t=>{this.keys[t.key]=!1}))}updatePos(){this.keys.a&&this.x>=0&&(this.x-=this.speed),this.keys.d&&this.x+this.width<=this.canvas.width&&(this.x+=this.speed),this.keys.w&&this.y>=0&&(this.y-=this.speed),this.keys.s&&this.y+this.height<=this.canvas.height&&(this.y+=this.speed)}draw(){this.updatePos(),this.ctx.drawImage(this.icon,this.x-this.width/2,this.y-this.height/2,this.width,this.height)}collisionDetect(t){return!!(this.radius+t.radius>=Math.sqrt((this.x-(t.x-t.width/2))**2+(this.y-(t.y-t.height/2))**2)&&this.canCollide)&&(this.canCollide=!1,setTimeout((()=>{this.canCollide=!0}),3e3),!0)}setUsername(t){this.username=t}}var e=class{constructor(t,e,s,i,h,n){this.canvas=t,this.x=s,this.y=i,this.width=h,this.height=n,this.speed=4,this.icon=new Image,this.icon.src=e,this.ctx=this.canvas.getContext("2d"),this.keys={},this.radius=this.width/2}updatePos(){this.y+=this.speed}draw(){this.updatePos(),this.ctx.drawImage(this.icon,this.x-this.width/2,this.y-this.height/2,this.width,this.height)}collisionDetect(t){return this.radius+t.radius>=Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2)}},s=class extends e{constructor(t,e){super(t,e,Math.random()*(t.width-50),-50,50,50)}},i=class extends e{constructor(t,e){super(t,e,Math.random()*(t.width-50),-50,50,50)}},h=class{constructor(t,e,s){this.canvas=t,this.x=e,this.y=s,this.velocity=10,this.radius=3,this.ctx=this.canvas.getContext("2d"),this.shooting=!0}draw(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fillStyle="white",this.ctx.fill(),this.ctx.closePath()}update(){this.draw(),this.y-=this.velocity,this.shooting&&this.y<-this.radius&&(this.y=this.canvas.height+this.radius)}stopShooting(){this.shooting=!1}collisionDetect(t){return this.radius+t.radius>=Math.sqrt((this.x-t.x)**2+(this.y-t.y)**2)}},n=class{constructor(t,e,s,i){this.canvas=t,this.x=e,this.y=s,this.velocity_x=2*(Math.random()-.5),this.velocity_y=2*(Math.random()-.5),this.radius=3*Math.random(),this.ctx=this.canvas.getContext("2d"),this.color=i,this.opacity=1}draw(){this.ctx.save(),this.ctx.globalAlpha=this.opacity,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}update(){this.draw(),this.x+=this.velocity_x,this.y+=this.velocity_y,this.opacity-=.01}};let o=JSON.parse(localStorage.getItem("high-scores"));null==o&&(o=[["monkey","0"],["john","12"],["doe","18"]],localStorage.setItem("high-scores",JSON.stringify(o)));let a=document.getElementById("high-scores");o.forEach((t=>{const e=document.createElement("li");e.innerText=`${t[0]}: ${t[1]}`,a.appendChild(e)}));const c=document.getElementById("game-canvas");let r=new t(c,"./src/icons/ship1.png",c.width/2,c.height-60,80,60),d=[];const l=[],u=document.getElementById("score"),y=document.getElementById("lives"),g=[];let x="",p=!1,m=!1;const w=document.getElementById("background-music");w.volume=.1;const f=document.getElementById("audio-button");f.addEventListener("click",(function(){w.paused?(w.play(),w.volume=.1,f.textContent="Audio: On"):(w.pause(),f.textContent="Audio: Off")})),c.style.display="block";const v=c.getContext("2d");function C(){Math.random()<.5?d.push(new s(c,"./src/icons/alien.png")):d.push(new i(c,"./src/icons/Asteroid_1.png")),setTimeout(C,5e3*Math.random())}function k(){if(p){c.getContext("2d").clearRect(0,0,c.width,c.height),r.draw();for(let t=0;t<g.length;t++)g[t].opacity<=0?setTimeout((()=>{g.splice(t,1)}),0):g[t].update();for(let e=0;e<d.length;e++)if(d[e].draw(),r.collisionDetect(d[e])){for(let t=0;t<10;t++)g.push(new n(c,d[e].x,d[e].y,"red")),g.push(new n(c,r.x,r.y,"purple"));if(d=[],r=new t(c,"./src/icons/ship1.png",c.width/2,c.height-60,80,60),r.draw(),1==parseInt(y.textContent)){y.textContent=parseInt(y.textContent)-1;let t=parseInt(u.textContent);for(let e=0;e<o.length;e++)if(t>o[e][1]){o[e][0]=x,o[e][1]=t,m=!0;break}if(m){localStorage.setItem("high-scores",JSON.stringify(o));let t=document.getElementById("high-scores");t.innerHTML="",o.forEach((e=>{const s=document.createElement("li");console.log(e[0]),s.innerText=`${e[0]}: ${e[1]}`,t.appendChild(s)}))}return null}y.textContent=parseInt(y.textContent)-1}!function(){for(let t=0;t<d.length;t++)d[t].y>c.height&&d.splice(t,1)}();for(let t=0;t<l.length;t++)if(l[t].y+5<=0)l.splice(t,1);else{l[t].update();for(let e=0;e<d.length;e++)if(d[e].collisionDetect(l[t])){for(let t=0;t<10;t++)g.push(new n(c,d[e].x,d[e].y,"#C79306"));d.splice(e,1),l.splice(t,1);let s=parseInt(u.textContent);s+=1,u.textContent=s}}requestAnimationFrame(k)}}v.font="30px Arial",v.fillStyle="white",v.textAlign="center",v.fillText("Welcome to Space Shootout!",c.width/2,c.height/2),document.getElementById("start-button").addEventListener("click",(()=>{if(w.play(),!p){const t=prompt("Please enter your username:");t?(c.style.display="block",p=!0,function(t){v.clearRect(0,0,c.width,c.height),r.setUsername(t),x=r.username,k()}(t)):alert("Username is required to start the game.")}})),document.addEventListener("keydown",(t=>{if(" "===t.key){const t=document.getElementById("shoot-sound");t.volume=.6,"Audio: Off"==f.textContent?t.pause():t.play(),l.push(new h(c,r.x,r.y))}})),document.addEventListener("keyup",(t=>{" "===t.key&&l.forEach((t=>{t.stopShooting()}))})),setTimeout((()=>{const t=5e3*Math.random();setTimeout(C,t)}),5e3*Math.random()),k()}()}();
//# sourceMappingURL=main.js.map