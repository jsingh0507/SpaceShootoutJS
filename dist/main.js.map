{"version":3,"file":"main.js","mappings":"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","sources":["webpack://spaceshootoutjs/./src/scripts/player.js","webpack://spaceshootoutjs/./src/scripts/movableObjects.js","webpack://spaceshootoutjs/./src/scripts/alien.js","webpack://spaceshootoutjs/./src/scripts/asteroid.js","webpack://spaceshootoutjs/./src/scripts/projectile.js","webpack://spaceshootoutjs/./src/scripts/explosion.js","webpack://spaceshootoutjs/./src/index.js"],"sourcesContent":["export default class Player {\n    constructor(canvas, shipSrc, x, y, width,height){\n        this.canvas = canvas;\n        this.x = x;\n        this.y = y;\n        this.height = height;\n        this.width = width;\n        this.icon = new Image();\n        this.icon.src = shipSrc;\n        this.ctx = this.canvas.getContext('2d');\n        this.radius = 20;\n        this.canCollide = true;\n        // variables to keep track of the keyboard entry of the user:\n        this.keys = {};\n        // speed for the movements:\n        this.speed = 5;\n        this.username = \"\";\n\n        //this event listener will work when pressed the key\n        document.addEventListener(\"keydown\", (event) => {\n            this.keys[event.key] = true;\n        });\n\n        //this event listener is when we release the key\n        document.addEventListener(\"keyup\", (event) => {\n            this.keys[event.key] = false;\n        });\n    }\n\n    updatePos(){\n        //this function will basically check if the keys is true(from the eventListener) then increase the speed \n        if(this.keys['a'] && this.x>=0){\n            this.x -= this.speed;\n        }\n        if(this.keys['d'] && (this.x+this.width<=this.canvas.width) ){\n            this.x += this.speed;\n        }\n        if(this.keys['w'] && this.y>=0){\n            this.y -= this.speed;\n        }\n        if(this.keys['s'] && (this.y+this.height<=this.canvas.height)){\n            this.y += this.speed;\n        }\n    }\n\n    draw(){\n        // debugger\n        this.updatePos();\n        this.ctx.drawImage(this.icon, this.x-this.width/2, this.y-this.height/2, this.width, this.height);\n        // this.ctx.beginPath();\n        // this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI *2);\n        // this.ctx.fillStyle = 'yellow'\n        // this.ctx.fill();\n        // this.ctx.closePath();\n    }\n\n    collisionDetect(obj){\n        const totalRadius = this.radius + obj.radius;\n        const totalDistance = Math.sqrt( ((this.x-(obj.x-obj.width/2))**2) + ((this.y-(obj.y-obj.height/2)))**2)\n\n        if (totalRadius>=totalDistance && this.canCollide){\n            this.canCollide = false;\n            setTimeout(() => {\n                this.canCollide = true;\n            }, 3000);\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    setUsername(username) {\n        this.username = username;\n    }\n}","class MovableObjects {\n    constructor(canvas, imageSrc, x, y, width, height) {\n        this.canvas = canvas;\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.speed = 4;\n        this.icon = new Image();\n        this.icon.src = imageSrc;\n        this.ctx = this.canvas.getContext('2d');\n        this.keys = {};\n        this.radius = this.width/2;\n    }\n\n    updatePos() {\n        this.y += this.speed;\n    }\n\n    draw() {\n        this.updatePos();\n        this.ctx.drawImage(this.icon, this.x-this.width/2, this.y-this.height/2, this.width, this.height);\n        // drawing hit box\n        // this.ctx.beginPath();\n        // this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI *2);\n        // this.ctx.fillStyle = 'red'\n        // this.ctx.fill();\n        // this.ctx.closePath();\n    }\n\n    collisionDetect(obj){\n        const totalRadius = this.radius + obj.radius;\n        const totalDistance = Math.sqrt((this.x-obj.x)**2 + (this.y-obj.y)**2)\n\n        if (totalRadius>=totalDistance){\n            return true\n        }else{\n            return false\n        }\n    }\n}\n\nexport default MovableObjects;","import MovableObjects from \"./movableObjects.js\";\nclass Alien extends MovableObjects{\n    constructor(canvas, alienSrc){\n        const width = 50;\n        const height = 50;\n        const x = Math.random() * (canvas.width - 50);\n        const y = -height; // Place above the canvas\n        super(canvas, alienSrc, x, y, width, height);\n    }\n}\nexport default Alien;","import MovableObjects from \"./movableObjects.js\";\n\nclass Asteroid extends MovableObjects{\n    constructor(canvas, asteroidSrc){\n        const width = 50;\n        const height = 50;\n        const x = Math.random() * (canvas.width - 50);\n        const y = -height; // Place above the canvas\n        super(canvas, asteroidSrc, x, y, width, height);\n    }\n}\nexport default Asteroid;","class Projectile{\n    constructor(canvas, x, y){\n        this.canvas = canvas;\n        this.x = x;\n        this.y = y;\n        this.velocity = 10\n        this.radius = 3;\n        this.ctx = this.canvas.getContext('2d');\n        this.shooting = true;\n    }\n    draw(){\n        this.ctx.beginPath();\n        this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI *2);\n        this.ctx.fillStyle = 'white'\n        this.ctx.fill();\n        this.ctx.closePath();\n    }\n\n    update() {\n        this.draw();\n        this.y -= this.velocity;\n        if (this.shooting){\n            if (this.y < -this.radius) {\n                this.y = this.canvas.height + this.radius;\n            }\n        }\n    }\n\n    stopShooting() {\n        this.shooting = false;\n    }\n\n    collisionDetect(obj){\n        const totalRadius = this.radius + obj.radius;\n        const totalDistance = Math.sqrt((this.x-obj.x)**2 + (this.y-obj.y)**2)\n\n        if (totalRadius>=totalDistance){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n}\nexport default Projectile;","class Explosion{\n    constructor(canvas, x, y, color){\n        this.canvas = canvas;\n        this.x = x;\n        this.y = y;\n        this.velocity_x = (Math.random()-0.5)*2;\n        this.velocity_y = (Math.random()-0.5)*2;\n        this.radius = (Math.random()) * 3;\n\n        this.ctx = this.canvas.getContext('2d');\n        this.color = color\n        this.opacity = 1;\n    }\n    draw(){\n        this.ctx.save();\n        this.ctx.globalAlpha = this.opacity;\n        this.ctx.beginPath();\n        this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI *2);\n        this.ctx.fillStyle = this.color;\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.ctx.restore();\n    }\n\n    update() {\n        this.draw();\n        this.x += this.velocity_x;\n        this.y += this.velocity_y;\n        this.opacity -=0.01;\n    }\n}\nexport default Explosion;","import Player from \"./scripts/player.js\";\nimport Alien from \"./scripts/alien.js\";\nimport Asteroid from \"./scripts/asteroid.js\";\nimport Projectile from \"./scripts/projectile.js\"\nimport Explosion from \"./scripts/explosion.js\";\n\nlet scores = JSON.parse(localStorage.getItem(\"high-scores\"));\nif (scores==null){\n    scores = [[\"monkey\", \"0\"],[\"john\", \"12\"],[\"doe\", \"18\"]];\n    localStorage.setItem(\"high-scores\", JSON.stringify(scores))\n}\n\nlet list = document.getElementById(\"high-scores\");\n\nscores.forEach(score =>{\n    const listItem = document.createElement(\"li\")\n    listItem.innerText = `${score[0]}: ${score[1]}`\n    list.appendChild(listItem);\n})\n\n// window.Player = Player;\nconst canvas = document.getElementById(\"game-canvas\")\nlet player = new Player(canvas,\"./src/icons/ship1.png\",(canvas.width/2),canvas.height-60,80,60);\nlet arr = [];\nconst projectiles = [];\nconst score = document.getElementById(\"score\");\nconst lives = document.getElementById(\"lives\");\nconst explosion = [];\nlet usernameG=\"\";\n\nlet isGame = false;\nlet isUpdated = false;\n\nconst backgroundMusic = document.getElementById(\"background-music\");\nbackgroundMusic.volume = 0.1\n\nconst toggleAudioButton = document.getElementById(\"audio-button\");\n\nfunction toggleAudio() {\n    if (backgroundMusic.paused) {\n        backgroundMusic.play();\n        backgroundMusic.volume = 0.1;\n        toggleAudioButton.textContent = \"Audio: On\";\n    } else {\n        backgroundMusic.pause();\n        toggleAudioButton.textContent = \"Audio: Off\";\n    }\n}\n\n// Add event listener to the toggle audio button\ntoggleAudioButton.addEventListener(\"click\", toggleAudio);\n\ncanvas.style.display = \"block\"\n\n// for the welcome message\nconst ctx = canvas.getContext('2d');\nctx.font = '30px Arial';\nctx.fillStyle = 'white';\nctx.textAlign = 'center';\nctx.fillText('Welcome to Space Shootout!', canvas.width / 2, canvas.height / 2);\n\n// Event listener for the start button\ndocument.getElementById(\"start-button\").addEventListener(\"click\", () => {\n    backgroundMusic.play();\n    if (!isGame) {\n        const username = prompt(\"Please enter your username:\");\n        if (username) {\n            canvas.style.display = \"block\";\n            isGame = true;\n            startGame(username);\n        } else {\n            alert(\"Username is required to start the game.\");\n        }\n    }\n});\n\n// document.getElementById(\"audio-button\").addEventListener(\"click\", () => {\n//     if (backgroundMusic)\n// });\n\nfunction startGame(username) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    player.setUsername(username);\n    usernameG = player.username;\n    // console.log(player.username)\n    animate();\n}\n\n// Event listener for shooting projectiles\ndocument.addEventListener(\"keydown\", (event) => {\n    if (event.key === ' ') {\n        const shootSound = document.getElementById(\"shoot-sound\");\n        shootSound.volume = 0.6;\n        if (toggleAudioButton.textContent == \"Audio: Off\") {\n            shootSound.pause();\n        } else{\n            shootSound.play();\n        }\n        projectiles.push(new Projectile(canvas, player.x, player.y));\n        // console.log(`prokjectiles length before deleting: ${projectiles.length}`);\n    }\n});\n\ndocument.addEventListener(\"keyup\", (event) => {\n    if (event.key === ' ') {\n        projectiles.forEach(projectile => {\n            projectile.stopShooting();\n        });\n    }\n});\n// debugger\n\nsetTimeout(() => {\n    const randomDelay = Math.random()*5000;\n    setTimeout(spawn,randomDelay);\n}, Math.random()*5000);\n\nfunction spawn(){\n    const randomObj = Math.random();\n    if (randomObj < 0.5){\n        arr.push(new Alien(canvas,\"./src/icons/alien.png\"));\n    }else{\n        arr.push(new Asteroid(canvas,\"./src/icons/Asteroid_1.png\"));\n    }\n    setTimeout(spawn, Math.random() * 5000);\n}\n\nfunction removeObj(){\n    for (let i=0; i<arr.length; i++){\n        if (arr[i].y > canvas.height){\n            arr.splice(i,1);\n        }\n    }\n}\n\nfunction animate(){\n    if (!isGame) return;\n\n    canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\n    player.draw();\n    for (let i = 0; i < explosion.length; i++) {\n        if (explosion[i].opacity<=0){\n            setTimeout(() =>{\n                explosion.splice(i, 1);\n            },0)\n        }else{\n            explosion[i].update();\n        }\n    }\n    for (let i=0; i<arr.length; i++){\n        arr[i].draw();\n        if (player.collisionDetect(arr[i])){\n            for (let c = 0;c<10;c++){\n                explosion.push(new Explosion(canvas, arr[i].x, arr[i].y, 'red'));\n                explosion.push(new Explosion(canvas, player.x, player.y, 'purple'));\n            }\n            arr = [];\n            player = new Player(canvas,\"./src/icons/ship1.png\",canvas.width/2,canvas.height-60,80,60);\n            player.draw();\n            if (parseInt(lives.textContent)==1){\n                lives.textContent = parseInt(lives.textContent) - 1;\n                let currentScore = parseInt(score.textContent);\n                for (let i = 0; i < scores.length; i++) {\n                    if (currentScore > scores[i][1]) {\n                        scores[i][0]=usernameG;\n                        scores[i][1]=currentScore;\n                        isUpdated = true;\n                        break;\n                    }\n                }\n                if (isUpdated) {\n                    localStorage.setItem(\"high-scores\", JSON.stringify(scores));\n                    let list = document.getElementById(\"high-scores\");\n                    list.innerHTML = \"\";\n                    scores.forEach(score => {\n                        const listItem = document.createElement(\"li\");\n                        console.log(score[0])\n                        listItem.innerText = `${score[0]}: ${score[1]}`;\n                        list.appendChild(listItem);\n                    });\n                }\n                return null;\n            }else {\n                lives.textContent = parseInt(lives.textContent) - 1;\n            }\n        }\n    }\n    removeObj()\n    // console.log(arr.length)\n    for(let j=0; j<projectiles.length;j++){\n        if(projectiles[j].y + 5 <= 0){\n            projectiles.splice(j, 1);\n        }else{\n            projectiles[j].update();\n            for (let k=0;k<arr.length;k++){\n                if (arr[k].collisionDetect(projectiles[j])){\n                    for(let c=0;c<10;c++){\n                        explosion.push(new Explosion(canvas, arr[k].x, arr[k].y,'#C79306'));\n                    }\n                    // console.log(explosion)\n                    arr.splice(k,1);\n                    projectiles.splice(j,1);\n                    let currentScore = parseInt(score.textContent); // Get the current score as a number\n                    currentScore += 1; // Increment the score\n                    score.textContent = currentScore; // Update the score on the page\n                }\n            }\n        }\n    }\n    requestAnimationFrame(animate);\n    // debugger\n    // console.log(`prokjectiles length after deleting: ${projectiles}`);\n}\nanimate()\n\n\n\n\n\n"],"names":["Player","constructor","canvas","shipSrc","x","y","width","height","this","icon","Image","src","ctx","getContext","radius","canCollide","keys","speed","username","document","addEventListener","event","key","updatePos","draw","drawImage","collisionDetect","obj","Math","sqrt","setTimeout","setUsername","imageSrc","MovableObjects","alienSrc","super","random","asteroidSrc","velocity","shooting","beginPath","arc","PI","fillStyle","fill","closePath","update","stopShooting","color","velocity_x","velocity_y","opacity","save","globalAlpha","restore","scores","JSON","parse","localStorage","getItem","setItem","stringify","list","getElementById","forEach","score","listItem","createElement","innerText","appendChild","player","arr","projectiles","lives","explosion","usernameG","isGame","isUpdated","backgroundMusic","volume","toggleAudioButton","paused","play","textContent","pause","style","display","spawn","push","Alien","Asteroid","animate","clearRect","i","length","splice","c","Explosion","parseInt","currentScore","innerHTML","console","log","removeObj","j","k","requestAnimationFrame","font","textAlign","fillText","prompt","startGame","alert","shootSound","Projectile","projectile","randomDelay"],"sourceRoot":""}